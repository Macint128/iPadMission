<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>6í•™ë…„ ë£¨í‹´ ë§ˆìŠ¤í„° - ìµœì¢… í†µí•©íŒ</title>
<style>
    /* [ê¸°ë³¸ ìŠ¤íƒ€ì¼] */
    body { font-family: 'Malgun Gothic', sans-serif; background-color: #f0f4f7; padding: 15px; color: #2c3e50; line-height: 1.4; margin: 0; }
    h1 { text-align: center; color: #37474f; margin: 20px 0; font-size: 1.8em; }
    
    .top-section { display: grid; grid-template-columns: 1fr 1.5fr; gap: 20px; max-width: 1400px; margin: 0 auto 25px auto; }
    .schedule-layout { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px; max-width: 1400px; margin: 0 auto; }

    /* ëª¨ë°”ì¼ ëŒ€ì‘ */
    @media (max-width: 768px) {
        .top-section { grid-template-columns: 1fr; }
        .schedule-layout { grid-template-columns: 1fr; }
        .wish-gallery-mini { grid-template-columns: repeat(2, 1fr) !important; }
    }

    .card { background: white; border-radius: 25px; padding: 22px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); border-top: 8px solid #546e7a; display: flex; flex-direction: column; }
    .card-title { font-size: 1.3em; font-weight: 900; margin-bottom: 15px; border-bottom: 2px solid #eceff1; padding-bottom: 10px; display: flex; justify-content: space-between; }

    /* ìì‚° í˜„í™© */
    .asset-card { border-top-color: #00897b; }
    .money-display { background: #e0f2f1; border-radius: 20px; border: 2px dashed #00897b; padding: 25px 10px; text-align: center; margin-bottom: 15px; }
    .balance-text { font-size: 2.3em; font-weight: 900; color: #00695c; }
    .history-log { flex-grow: 1; min-height: 150px; max-height: 200px; overflow-y: auto; background: #fafafa; border-radius: 15px; padding: 10px; border: 1px solid #eee; margin-bottom: 10px; }
    .log-item { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; border-bottom: 1px solid #eee; font-size: 0.85em; }
    .log-actions button { border: none; background: none; cursor: pointer; font-size: 0.9em; margin-left: 5px; }

    /* ëª©í‘œ í†µí•© */
    .goal-card { border-top-color: #03a9f4; }
    .wish-gallery-mini { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 15px; }
    .wish-item-mini { position: relative; border-radius: 12px; overflow: hidden; border: 1px solid #e1f5fe; background: #fff; height: 90px; display: flex; align-items: center; justify-content: center; }
    .wish-item-mini img { width: 80%; height: 80%; object-fit: contain; }
    .wish-item-mini span { position: absolute; bottom: 0; width: 100%; background: rgba(3, 169, 244, 0.7); color: white; font-size: 0.6em; text-align: center; padding: 2px 0; }

    /* ì§„í–‰ë°” */
    .progress-container { background: #e0e0e0; border-radius: 15px; height: 26px; overflow: hidden; position: relative; border: 2px solid #b3e5fc; }
    .progress-bar { background: linear-gradient(90deg, #03a9f4, #00bcd4); height: 100%; width: 0%; transition: 1s ease; }
    .progress-text { position: absolute; width: 100%; text-align: center; font-size: 0.9em; font-weight: 900; line-height: 26px; }

    /* ì¼ì • ìŠ¬ë¡¯ (íŒŒì¼ ë°ì´í„° ê¸°ë°˜ ì»¬ëŸ¬ë§) */
    .slot { display: flex; margin-bottom: 5px; padding: 7px 10px; background: #f8f9fa; border-radius: 8px; font-size: 0.82em; align-items: center; border-left: 4px solid #cfd8dc; }
    .time { width: 95px; font-weight: bold; color: #546e7a; flex-shrink: 0; }
    .morning-slot { background: #fff3e0 !important; border-left-color: #ff9800; color: #e65100; font-weight: bold; }
    .school-slot { background: #e3f2fd !important; border-left-color: #1e88e5; }
    .homework-slot { background: #fff9c4 !important; border-left-color: #fbc02d; color: #f57f17; }
    .game-slot { background: #dcedc8 !important; border-left-color: #7cb342; color: #33691e; }
    .routine-slot { background: #f5f5f5 !important; color: #616161; }
    .urgent-slot { background: #ffcdd2 !important; border-left-color: #e53935; color: #b71c1c; }

    /* ëª¨ë‹¬ */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); backdrop-filter: blur(8px); z-index: 1000; justify-content: center; align-items: center; }
    .modal-content { background: white; padding: 25px; border-radius: 25px; width: 90%; max-width: 320px; }
    .styled-input { width: 100%; padding: 12px; margin-bottom: 12px; border: 2px solid #eceff1; border-radius: 12px; font-size: 1em; box-sizing: border-box; }
    .btn-main { background: #37474f; color: white; border: none; border-radius: 12px; padding: 12px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 5px; }
</style>
</head>
<body onload="loadAppData()">

    <h1>ğŸ“Š 6í•™ë…„ ë£¨í‹´ ë§ˆìŠ¤í„°</h1>

    <div class="top-section">
        <div class="card asset-card">
            <div class="card-title">ğŸ’µ ìì‚° í˜„í™©</div>
            <div class="money-display">
                <div class="balance-text" id="balanceDisplay">0 ì›</div>
                <div style="font-size:0.8em; color:#00897b; margin-top:5px;">ê³¼ì ì•ˆ ì‚¬ë¨¹ê³  ëª¨ì€ ëˆ ğŸ</div>
            </div>
            <div class="history-log" id="historyLog"></div>
            <button class="btn-main" onclick="openModal()">ğŸ’° ê¸°ë¡ ë° í¸ì§‘</button>
        </div>

        <div class="card goal-card">
            <div class="card-title">ğŸ¯ iPad mini 7 Blue <span>4/24</span></div>
            <div class="wish-gallery-mini">
                <div class="wish-item-mini"><img src="https://store.storeimages.cdn-apple.com/1/as-images.apple.com/is/ipad-mini-storage-select-gallery-202410-blue?wid=5120&hei=2880"><span>iPad mini 7</span></div>
                <div class="wish-item-mini"><img src="https://store.storeimages.cdn-apple.com/1/as-images.apple.com/is/MX2D3_AV1?wid=1144&hei=1144"><span>Pencil Pro</span></div>
                <div class="wish-item-mini"><img src="https://ecimg.cafe24img.com/pg964b86331718002/longtogether/web/product/small/20250501/448a21f71c3d4e818f17fdd1b817cb9d.jpg"><span>Case</span></div>
                <div class="wish-item-mini"><img src="https://thumbnail.coupangcdn.com/thumbnails/remote/492x492ex/image/retail/images/215369728548508-329dfeaa-6735-4fd4-84be-ac8d279b0003.jpg"><span>Film</span></div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="goalProgressBar"></div>
                <div class="progress-text" id="progressText">0%</div>
            </div>
            <p style="text-align:center; font-size:0.8em; font-weight:bold; color:#03a9f4; margin-top:10px;">ëª©í‘œ: 1,000,000ì›</p>
        </div>
    </div>

    <div class="schedule-layout" id="scheduleGrid"></div>

    <div id="moneyModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle" style="margin-top:0; text-align:center;">ğŸ’° ê¸°ë¡ ê´€ë¦¬</h3>
            <input type="hidden" id="editIndex">
            <input type="text" id="moneyNote" class="styled-input" placeholder="ë‚´ìš©">
            <input type="number" id="moneyAmount" class="styled-input" placeholder="ê¸ˆì•¡ (+/-)">
            <button class="btn-main" onclick="saveRecord()">ì €ì¥</button>
            <button class="btn-main" style="background:#cfd8dc; color:#546e7a;" onclick="closeModal()">ì·¨ì†Œ</button>
        </div>
    </div>

    <script>
        let appData = { balance: 0, logs: [] };
        const GOAL_TOTAL = 1000000;

        function loadAppData() {
            const saved = localStorage.getItem('routine_v30_final');
            if (saved) appData = JSON.parse(saved);
            renderSchedule();
            updateUI();
        }

        function updateUI() {
            document.getElementById('balanceDisplay').innerText = appData.balance.toLocaleString() + " ì›";
            let p = Math.min(100, Math.floor((appData.balance / GOAL_TOTAL) * 100));
            document.getElementById('goalProgressBar').style.width = p + "%";
            document.getElementById('progressText').innerText = p + "%";

            const logHTML = appData.logs.map((l, i) => `
                <div class="log-item">
                    <span>${l.note}</span>
                    <span style="color:${l.amount<0?'#d32f2f':'#2e7d32'}; font-weight:bold;">${l.amount>0?'+':''}${l.amount.toLocaleString()}</span>
                    <div class="log-actions">
                        <button onclick="editRecord(${i})">âœï¸</button>
                        <button onclick="deleteRecord(${i})">âŒ</button>
                    </div>
                </div>
            `).join('');
            document.getElementById('historyLog').innerHTML = logHTML || '<p style="text-align:center; font-size:0.8em; color:#999;">ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            localStorage.setItem('routine_v30_final', JSON.stringify(appData));
        }

        function openModal() {
            document.getElementById('modalTitle').innerText = "ğŸ’° ìƒˆ ê¸°ë¡ ì¶”ê°€";
            document.getElementById('editIndex').value = "-1";
            document.getElementById('moneyNote').value = "";
            document.getElementById('moneyAmount').value = "";
            document.getElementById('moneyModal').style.display = 'flex';
        }

        function editRecord(i) {
            const log = appData.logs[i];
            document.getElementById('modalTitle').innerText = "âœï¸ ê¸°ë¡ ìˆ˜ì •";
            document.getElementById('editIndex').value = i;
            document.getElementById('moneyNote').value = log.note;
            document.getElementById('moneyAmount').value = log.amount;
            document.getElementById('moneyModal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('moneyModal').style.display = 'none'; }

        function saveRecord() {
            const i = parseInt(document.getElementById('editIndex').value);
            const note = document.getElementById('moneyNote').value || "ì¼ë°˜";
            const amt = parseInt(document.getElementById('moneyAmount').value);
            if(isNaN(amt)) return;

            if(i === -1) {
                appData.logs.unshift({ note, amount: amt });
                appData.balance += amt;
            } else {
                appData.balance = appData.balance - appData.logs[i].amount + amt;
                appData.logs[i] = { note, amount: amt };
            }
            updateUI(); closeModal();
        }

        function deleteRecord(i) {
            if(confirm("ì´ ê¸°ë¡ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                appData.balance -= appData.logs[i].amount;
                appData.logs.splice(i, 1);
                updateUI();
            }
        }

        function renderSchedule() {
            const game = "ğŸ® Ryujinx Time";
            const shower = "ğŸš¿ ìƒ¤ì›Œ (ê¸°ê¸°ì¢…ë£Œ)";
            const morning = [
                { t: '07:25-07:40', task: 'â° ê¸°ìƒ ë° ì¹¨êµ¬ì •ë¦¬', type: 'morning-slot' },
                { t: '07:40-08:00', task: 'ğŸ± ì•„ì¹¨ ì‹ì‚¬', type: 'morning-slot' },
                { t: '08:00-08:15', task: 'ğŸ’ ë“±êµ ì¤€ë¹„/ì¶œë°œ', type: 'morning-slot' }
            ];
            const evening = [
                { t: '19:00-19:40', task: 'ğŸ± ì €ë… ì‹ì‚¬', type: 'routine-slot' },
                { t: '21:30-21:50', task: 'ğŸª¥ ì·¨ì¹¨ ì¤€ë¹„', type: 'routine-slot' },
                { t: '21:50-07:25', task: 'ğŸ’¤ ì·¨ì¹¨', type: 'routine-slot' }
            ];

            const weekly = [
                { title: 'ì›” Â· ëª©ìš”ì¼', s: [...morning, { t: '08:15-14:20', task: 'ğŸ« í•™êµ ìƒí™œ', type: 'school-slot' }, { t: '14:35-15:05', task: 'âœï¸ ìˆ™ì œ[1] ìˆ˜í•™', type: 'homework-slot' }, { t: '15:05-15:35', task: game, type: 'game-slot' }, { t: '15:35-16:05', task: 'âœï¸ ìˆ™ì œ[2] ì¤‘ìˆ˜', type: 'homework-slot' }, { t: '16:05-16:35', task: game, type: 'game-slot' }, { t: '16:35-17:05', task: 'âœï¸ ìˆ™ì œ[3] ì˜ì–´', type: 'homework-slot' }, { t: '17:35-18:05', task: 'âœï¸ ìˆ™ì œ[4] ì½”ë”©', type: 'homework-slot' }, { t: '18:30-19:00', task: shower, type: 'routine-slot' }, ...evening]},
                { title: 'í™”ìš”ì¼', s: [...morning, { t: '08:15-14:20', task: 'ğŸ« í•™êµ ìƒí™œ', type: 'school-slot' }, { t: '14:30-15:00', task: 'âœï¸ ìˆ™ì œ[1] ìˆ˜í•™', type: 'homework-slot' }, { t: '15:00-15:30', task: game, type: 'game-slot' }, { t: '16:00-18:00', task: 'ğŸ’» ì½”ë”© í•™ì›', type: 'homework-slot' }, { t: '18:00-18:30', task: 'âœï¸ ìˆ™ì œ ë§ˆë¬´ë¦¬', type: 'homework-slot' }, { t: '18:30-19:00', task: shower, type: 'routine-slot' }, ...evening]},
                { title: 'ìˆ˜ìš”ì¼', s: [...morning, { t: '08:15-12:50', task: 'ğŸ« í•™êµ ìƒí™œ', type: 'school-slot' }, { t: '13:00-14:00', task: 'ğŸ”¤ ì˜ì–´ ê³¼ì™¸', type: 'homework-slot' }, { t: '14:30-15:00', task: 'âœï¸ ìˆ™ì œ[1] ìˆ˜í•™', type: 'homework-slot' }, { t: '15:30-16:00', task: 'âœï¸ ìˆ™ì œ[2] ì¤‘ìˆ˜', type: 'homework-slot' }, { t: '16:30-17:30', task: 'âœï¸ ìˆ™ì œ[3,4]', type: 'homework-slot' }, { t: '18:30-19:00', task: shower, type: 'routine-slot' }, ...evening]},
                { title: 'ê¸ˆìš”ì¼', s: [...morning, { t: '08:15-14:20', task: 'ğŸ« í•™êµ ìƒí™œ', type: 'school-slot' }, { t: '14:30-15:30', task: 'âœš ìˆ˜í•™ ê³¼ì™¸', type: 'homework-slot' }, { t: '16:00-17:00', task: 'âœï¸ ìˆ™ì œ[1,2]', type: 'homework-slot' }, { t: '17:00-17:30', task: game, type: 'game-slot' }, { t: '17:30-18:00', task: 'âœï¸ ìˆ™ì œ[3,4]', type: 'homework-slot' }, { t: '18:30-19:00', task: shower, type: 'routine-slot' }, ...evening]},
                { title: 'í† ìš”ì¼', s: [{ t: '09:00-11:00', task: 'ğŸ’» ì½”ë”© í•™ì›', type: 'homework-slot' }, { t: '11:15-12:15', task: game, type: 'game-slot' }, { t: '13:00-18:30', task: 'âœ¨ ììœ  ì‹œê°„ âœ¨', type: '' }, { t: '18:30-19:00', task: shower, type: 'routine-slot' }, ...evening]},
                { title: 'ì¼ìš”ì¼', s: [{ t: '09:00-12:00', task: 'âš ï¸ ë¯¸ì™„ë£Œ ìˆ™ì œ ì •ì‚°', type: 'urgent-slot' }, { t: '12:00-13:00', task: 'ğŸ± ì ì‹¬ ì‹ì‚¬', type: '' }, { t: '13:00-18:30', task: 'ğŸ® Ryujinx (ììœ !)', type: 'game-slot' }, { t: '18:30-19:00', task: shower, type: 'routine-slot' }, { t: '19:00-20:00', task: 'ğŸ± ì¼ìš” ë§Œì°¬', type: 'routine-slot' }, { t: '21:30-21:50', task: 'ğŸª¥ ì·¨ì¹¨ ì¤€ë¹„', type: 'routine-slot' }, { t: '21:50-07:25', task: 'ğŸ’¤ ì·¨ì¹¨', type: 'routine-slot' }]}
            ];

            document.getElementById('scheduleGrid').innerHTML = weekly.map(day => `
                <div class="card">
                    <div class="card-title">${day.title}</div>
                    ${day.s.map(slot => `<div class="slot ${slot.type}"><span class="time">${slot.t}</span><span>${slot.task}</span></div>`).join('')}
                </div>
            `).join('');
        }
    </script>
</body>
</html>